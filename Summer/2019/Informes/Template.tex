\documentclass[10pt,letterpaper]{article}
\usepackage[utf8]{inputenc}
\usepackage[spanish]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{ifthen}
\usepackage{forloop}
\usepackage{subfiles}
\usepackage{setspace}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{lstlinebgrd}
\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm]{geometry}


%--! Codigo por defecto (no tocar si no sabes)

\makeatletter
\renewcommand{\maketitle}{\bgroup\setlength{\parindent}{0pt}
\begin{flushleft}
  \textbf{\@title}

  \@author
\end{flushleft}\egroup
}
\makeatother



% Nombre de archivos de Codigo por defecto
\newcommand{\mystr}{Ejercicio}
\newcommand{\enun}{Enunciado}

% Interlineado (\doublespacing, \onehalfspacing, \singlespacing)
\onehalfspacing





\usepackage[T1]{fontenc}
\usepackage{inconsolata}

\usepackage{color}

\definecolor{pblue}{rgb}{0.13,0.13,1}
\definecolor{pgreen}{rgb}{0,0.5,0}
\definecolor{pred}{rgb}{0.9,0,0}
\definecolor{pgrey}{rgb}{0.46,0.45,0.48}

\definecolor{claro}{RGB}{240,240,240}

\usepackage{listings}


\lstset{language=Java,
  showspaces=false,
  showtabs=false,
  breaklines=true,
  showstringspaces=false,
  breakatwhitespace=true,
  commentstyle=\color{pgreen},
  keywordstyle=\color{pblue},
  stringstyle=\color{pred},
  basicstyle=\ttfamily,
  moredelim=[il][\textcolor{pgrey}]{${}$},
  moredelim=[is][\textcolor{pgrey}]{\%\%}{\%\%}
}



\begin{document}

\subfile{Files/Intro}
\subfile{Files/Comment}
\pagebreak

\newcounter{ct}
\newcounter{n}

% Numero de ejercicios
\setcounter{n}{4}
\stepcounter{n}

\forloop{ct}{1}{\value{ct}<\value{n}}%
{%
  \section*{\mystr\text{ }\arabic{ct}:}
  \subfile{TeXFiles/\enun\arabic{ct}}
  \lstinputlisting[language=Java,breaklines=true]{Code/\mystr\arabic{ct}.java}
  %\includegraphics[scale=0.75]{\mystr\arabic{ct}}
  %\mystr\arabic{ct}
}




\end{document}