\chapter{Autómatas}
\section{Autómata Finito Determinístico (AFD)}
\subsection{Definición}
Un Autómata Finito Determinístico (AFD) es una quintupla $M=(k,\Sigma,f,s_0,F)$ donde:
\begin{itemize}
\item $k$ conjunto finito no vacio, \textit{conjunto de estados}
\item $\Sigma$ conjunto finito no vacio, \textit{Alfabeto}
\item $f:k\times\Sigma\rightarrow k$ , \textit{Funcion de transicion}
\item $s_0\in k$, \textit{Estado inicial}
\item $F\subseteq k$, \textit{Conjunto de estados finales}
\end{itemize}
\subsection{Intepretación}
\subsection{Representación}
\subsection{Configuración}
Sea $M=(k,\Sigma,\delta,s_0,F)$ un AFD. \\ $ { } $ \\ 
Una configuración de $M$ es un elemento de $k\times\Sigma^*$
\subsubsection{Relación $\sststile{M}{\hspace{0.25cm}  \hspace{0.25cm}}$}
Sea $(q,w)$ y $(q',w')$ dos configuraciones\footnote{$\sststile{M}{\hspace{0.25cm} \hspace{0.25cm}}$ se lee \textit{''conduce a''} en un paso.}:
$$
(q,w)\sststile{M}{\hspace{0.25cm} \hspace{0.25cm}} (q',w')\Leftrightarrow w = \sigma w' \text{ para algun } \sigma\in\Sigma \text{ y } \delta(q,\sigma)=q'
$$
\subsubsection{Lenguaje Aceptado por M}
\begin{align*}
L(M) = & \{ w\in\Sigma^* / M \text{ acepta } w\} \\
L(M) = & \{ w\in\Sigma^* / (s,w) \sststile{M}{\hspace{0.25cm} * \hspace{0.25cm}} (q,\lambda) \wedge q\in F\}
\end{align*}
\section{Autómata Finito no Determinístico (AFN)}
\subsection{Definición}
Un autómata Finito no Deterministico (AFN) es una quintupla $M=(k,\Sigma,\Delta,s,F)$ donde:
\begin{itemize}
\item $k:$ conjunto finito no vacio
\item $\Sigma:$ conjunto finito no vacio
\item $\Delta:$ es un subconjunto finito de $k\times\Sigma^* \times k$
\item $s\in k$
\item $F\subseteq k$
\end{itemize}
\section{Equivalencia entre una AFD y un AFN}
\subsubsection{Teorema}
Para cada AFN existe un AFD equivalente.
\subsubsection{$\bigstar$ Prueba}
Sea $M=(k,\Sigma,\Delta,s,F)$ un AFN
\renewcommand{\labelenumi}{\theenumi}
\renewcommand{\theenumi}{\textbf{\roman{enumi}.)}}
\begin{enumerate}
\item Construimos $M' = (k',\Sigma,\Delta',s',F')$ eliminando todas las aristas de $M$ que:
$$
(q,u,q')\in \Delta \hspace{0.5cm}\wedge\hspace{0.5cm} |u|>1
$$
Si $u=\sigma_1\sigma_2\ldots\sigma_k, k>1$ entonces añadimos $p_1,p_2,\ldots,p_{k-1}$ estados y las nuevas transiciones:
$$
(q,\sigma_1,p_1),(p_1,\sigma_2,p_2),\ldots,(p_{k-1},\sigma_k,q')
$$
a $\Delta$ para $u$ tal que $|u|>1$.
\item Construimos $M''=(k'',\Sigma,\delta'',s'',F'')$\\
La idea clave es considerar que un AFN en un determinando instante se encuentra en un conjunto de estados:
\begin{itemize}
\item $k'' = \Sigma^{k'}$
\item $F''=\{ Q \subseteq k' / Q \cap F' \neq \emptyset \}$
\end{itemize}
\end{enumerate}
Formalmente:
$$
E(q)=\{p\in k' / (q,\lambda)\sststile{M'}{\hspace{0.25cm} * \hspace{0.25cm}} (p,\lambda) \}
$$
Equivalentemente:
$$
E(q)=\{p\in k' / (q,w)\sststile{M'}{\hspace{0.25cm} * \hspace{0.25cm}} (p,w) \}
$$
Donde:
\begin{itemize}
\item $s'' = E(s')$
\item $\forall Q\subseteq k' \wedge \text{ para cada símbolo }\sigma \in \Sigma$
\end{itemize}
Ademas:
$$
\delta''(Q,\sigma)=\cup \{ E(p): p\in k' \wedge (q,\sigma,p)\in\Delta', \exists q\in Q \}
$$
Afirmamos que $\forall w\in\Sigma^*$ y $\forall p,q\in k'$:
$$
(q,w)\sststile{M'}{\hspace{0.25cm} * \hspace{0.25cm}}(p,\lambda)\Leftrightarrow (E(q),w) \sststile{M''}{\hspace{0.25cm} * \hspace{0.25cm}} (P,\lambda)
$$
\textbf{p.d.} $M'\approx M''$ \\
\textbf{p.d.} $L(M')=L(M'')$

\begin{align*}
w \in L(M') & \Leftrightarrow (s',w) \sststile{M'}{\hspace{0.25cm} * \hspace{0.25cm}} (q,\lambda), q\in F' \\
& \Leftrightarrow	(E(s'),w) \sststile{M''}{\hspace{0.25cm} * \hspace{0.25cm}} (Q,\lambda)\\
& \Leftrightarrow (s'',w) \sststile{M''}{\hspace{0.25cm} * \hspace{0.25cm}} (Q,\lambda), Q\in F'' \\
& \Leftrightarrow  w\in L(M'')
\end{align*}
$\therefore L(M')=L(M'')$
\section{Propiedades de los Lenguajes Aceptados por AF's}
\subsubsection*{Teorema}
La clase de Lenguajes aceptados por AF's es cerrada bajo la:
\begin{itemize}
\item Unión
\item Concatenación
\item Estrella de Kleene
\item Complementación
\item Intersección
\end{itemize}
\subsubsection{Prueba}
Sean $L(M_1)$ y $L(M_2)$ lenguajes aceptados por $M_1=(k_1,\Sigma,\Delta_1,s_1,F_1)$ y $M_1=(k_2,\Sigma,\Delta_2,s_2,F_2)$:
\begin{enumerate}[label=\textbf{\alph*)}]

\item \textbf{Unión} \\ ${ }$\\
Construimos $M=(k,\Sigma,\Delta,s,F)$ tal que: $L(M)=L(M_1)\cup L(M_2)$ 

\begin{center}
\begin{tikzpicture}[>={Triangle[width=1.5mm,length=1.5mm]},->,node distance=2cm,auto,state/.style={circle, draw, minimum size=0.5cm}]
\node[state,initial,initial text=] (q_0) at (2,3) {$s_1$};
\node[] (q_0) at (1,1.75) {$F_1$};
\node[] (q_0) at (0,4.25) {$M_1$};
\node[state,accepting] (q_0) at (1.25,1) {};
\node[state,accepting] (q_0) at (2.75,1) {};
\draw [rounded corners=0.5cm] (0.5,0.5) rectangle ++(3,1) node [midway]{};
\draw [rounded corners=0.1cm] (0,0) rectangle ++(4,4) node [midway]{};
\end{tikzpicture}
\begin{tikzpicture}[>={Triangle[width=1.5mm,length=1.5mm]},->,node distance=2cm,auto,state/.style={circle, draw, minimum size=0.5cm}]
\node[state,initial,initial text=] (q_0) at (2,3) {$s_2$};
\node[] (q_0) at (1,1.75) {$F_2$};
\node[] (q_0) at (0,4.25) {$M_2$};
\node[state,accepting] (q_0) at (2,1) {};
\draw [rounded corners=0.5cm] (0.5,0.5) rectangle ++(3,1) node [midway]{};
\draw [rounded corners=0.1cm] (0,0) rectangle ++(4,4) node [midway]{};
\end{tikzpicture}
\begin{tikzpicture}[>={Triangle[width=1.5mm,length=1.5mm]},->,node distance=2cm,auto,state/.style={circle, draw, minimum size=0.5cm}]
\node[state,initial,initial text=] (q_0) at (1,2.75) {$s$};
\node[state] (q_1) at (3.25,3.25) {$s_1$};
\node[state] (q_2) at (3.25,2.25) {$s_2$};
\path[->,line width=0.25mm] (q_0) edge node[] {$\lambda$} (q_1);
\path[->,line width=0.25mm] (q_0) edge node[] {$\lambda$} (q_2);
\node[] (f) at (1,1.75) {$F$};
\node[] (f1) at (0,4.25) {$M$};
\node[state,accepting] (q_0) at (2,1) {};
\node[state,accepting] (q_0) at (3,1) {};
\node[state,accepting] (q_0) at (1,1) {};
\draw [rounded corners=0.5cm] (0.5,0.5) rectangle ++(3,1) node [midway]{};
\draw [rounded corners=0.1cm] (0,0) rectangle ++(4,4) node [midway]{};
\end{tikzpicture}
\end{center}
Donde:
\begin{itemize}
\item $k=k_1 \cup k_2 \cup \{ s\}$ \\
	donde $s$ es un nuevo estado (inicial).
\item $\Delta=\Delta_1 \cup \Delta_2 \cup \{ (s,\lambda,s_1),(s,\lambda,s_2)\}$
\item $s:$ nuevo estado añadido
\item $F=F_1 \cup F_2$
\end{itemize}

\item \textbf{Concatenación} \\ ${ }$\\
Construimos $M=(k,\Sigma,\Delta,s,F)$ tal que: $L(M)=L(M_1)L(M_2)$ 
\begin{center}
\begin{tikzpicture}[>={Triangle[width=1.5mm,length=1.5mm]},->,node distance=2cm,auto,state/.style={circle, draw, minimum size=0.5cm}]
\node[state,initial,initial text=] (q_0) at (1.5,2) {$s_1$};
\node[] (q_0) at (2.25,3.5) {$F_1$};
\node[] (q_0) at (0,4.25) {$M_1$};
\node[state,accepting] (q_0) at (3,2) {};
\node[state,accepting] (q_0) at (3,1) {};
\node[state,accepting] (q_0) at (3,3) {};
\draw [rounded corners=0.5cm] (2.5,0.5) rectangle ++(1,3) node [midway]{};
\draw [rounded corners=0.1cm] (0,0) rectangle ++(4,4) node [midway]{};
\end{tikzpicture}
\begin{tikzpicture}[>={Triangle[width=1.5mm,length=1.5mm]},->,node distance=2cm,auto,state/.style={circle, draw, minimum size=0.5cm}]
\node[state,initial,initial text=] (q_0) at (1.5,2) {$s_2$};
\node[] (q_0) at (2.25,3.5) {$F_2$};
\node[] (q_0) at (0,4.25) {$M_2$};
\node[state,accepting] (q_0) at (3,2.5) {};
\node[state,accepting] (q_0) at (3,1.5) {};
\draw [rounded corners=0.5cm] (2.5,0.5) rectangle ++(1,3) node [midway]{};
\draw [rounded corners=0.1cm] (0,0) rectangle ++(4,4) node [midway]{};
\end{tikzpicture}
\begin{tikzpicture}[>={Triangle[width=1.5mm,length=1.5mm]},->,node distance=2cm,auto,state/.style={circle, draw, minimum size=0.5cm}]
\node[state,initial,initial text=] (q_0) at (1,2) {$s_1$};
\node[] (q_0) at (4.25,3.5) {$F$};
\node[] (q_0) at (0,4.25) {$M$};
\node[state,accepting] (q_0) at (5,2.5) {};
\node[state,accepting] (q_0) at (5,1.5) {};
\node[state] (f_0) at (2,2) {};
\node[state] (f_1) at (2,1) {};
\node[state] (f_2) at (2,3) {};
\node[state] (s_2) at (3.5,2) {$s_2$};
\path[->,line width=0.25mm] (f_0) edge node[] {$\lambda$} (s_2);
\path[->,line width=0.25mm] (f_1) edge node[] {$\lambda$} (s_2);
\path[->,line width=0.25mm] (f_2) edge node[] {$\lambda$} (s_2);
\draw [rounded corners=0.5cm] (4.5,0.5) rectangle ++(1,3) node [midway]{};
\draw [rounded corners=0.1cm] (0,0) rectangle ++(6,4) node [midway]{};
\end{tikzpicture}
\end{center}
Donde:
\begin{itemize}
\item $k=k_1 \cup k_2$ 
\item $\Delta=\Delta_1 \cup \Delta_2 \cup (F_1\times\{ \lambda \}\times \{ s_2\})$
\item $s=s_1$
\item $F=F_2$
\end{itemize}
\item \textbf{Estrella de Kleene} \\ ${ }$\\
Construimos $M=(k,\Sigma,\Delta,s,F)$ tal que: $L(M)=L(M_1)^* $
\begin{center}
\begin{tikzpicture}[>={Triangle[width=1.5mm,length=1.5mm]},->,node distance=2cm,auto,state/.style={circle, draw, minimum size=0.5cm}]
\node[state,initial,initial text=] (q_0) at (2,2) {$s_1$};
\node[] (q_0) at (4.25,3.5) {$F_1$};
\node[] (q_0) at (0,4.25) {$M_1$};
\node[state,accepting] (q_0) at (5,3) {};
\node[state,accepting] (q_0) at (5,2) {};
\node[state,accepting] (q_0) at (5,1) {};
\draw [rounded corners=0.5cm] (4.5,0.5) rectangle ++(1,3) node [midway]{};
\draw [rounded corners=0.1cm] (0,0) rectangle ++(6,4) node [midway]{};
\end{tikzpicture}
\begin{tikzpicture}[>={Triangle[width=1.5mm,length=1.5mm]},->,node distance=2cm,auto,state/.style={circle, draw, minimum size=0.5cm}]
\node[state] (xx) at (3,0.5) {$s_1$};
\node[] (q_0) at (0.75,3.5) {$F$};
\node[] (q_0) at (0,4.25) {$M$};
\node[state,accepting,initial,initial text=] (s_0) at (1.5,3) {$s_1'$};
\node[state,accepting] (s_1) at (2.5,3) {};
\node[state,accepting] (s_2) at (3.5,3) {};
\node[state,accepting] (s_3) at (4.5,3) {};
\path[->,line width=0.25mm] (s_0) edge node[swap] {$\lambda$} (xx);
\path[->,line width=0.25mm] (s_1) edge node[swap] {} (xx);
\path[->,line width=0.25mm] (s_2) edge node[swap] {$\lambda\hspace{0.4cm}\lambda$} (xx);
\path[->,line width=0.25mm] (s_3) edge node[swap] {$\lambda$} (xx);
\draw [rounded corners=0.5cm] (1,2.5) rectangle ++(4,1) node [midway]{};
\draw [rounded corners=0.1cm] (0,0) rectangle ++(6,4) node [midway]{};
\end{tikzpicture}
\end{center}

Donde:
\begin{itemize}
\item $k=k_1 \cup \{ s_1' \}$ \\
donde $s_1'$ es un nuevo estado (\textit{inicial y terminal}).
\item $\Delta=\Delta_1 \cup (F \times\{ \lambda \}\times \{ s_1\})$
\item $s=s_1'$
\item $F=F_1\cup\{ s_1' \}$
\end{itemize}
\item \textbf{Complementación} \\ ${ }$\\
Sea $M=(k,\Sigma,\delta,s,F)$ un \textbf{AFD}. \\
Donde:
$$
\Sigma^* - L(M) \text{ es aceptado por } \overline{M}=(k,\Sigma,\delta,s,k-F)
$$
\item \textbf{Intersección} \\ ${ }$\\
Sea:
\begin{align*}
L_1 \cap L_2 =& \overline{\overline{L_1 \cap L_2}} \\
		 =& \overline{\overline{L_1}\cup\overline{L_2}} \\
		 =& \underbrace{\Sigma^* - \underbrace{[ \underbrace{(\Sigma^* - L_1)}_{1}\cup \underbrace{(\Sigma^* -L_2)}_{2} ]}_{3}}_{4}
\end{align*}
Notese que en $1,2,3,4$ se puede ver que en cada operación al aplicarla se obtiene otro AF que puede ser nuevamente usada en la siguiente operación y así sucesivamente.
\end{enumerate}
